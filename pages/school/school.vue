<template>
	<view class="zhaopin">
		<view class="jsBanner"><image src="/static/images/shop_ruzhu.png"></image></view>

    <view class="jsitem">
      <view class="vipboxBtl">我们的特长</view>

      <view class="salgg">
        <view class="salggtm">
          <view class="salggtm1">拥有丰富经验的技术团队资源，中医按摩行业协会资深的老师队伍，从业经验皆在十年以上</view>
          <!-- <view class="salggtm2">已完善的技师培训，考核机制，能够提供全方位的业务以及技术培训并且能够快速规模化。</view> -->
        </view>

        <view class="salggtm">
          <view class="salggtm1">丰富的培训经验</view>
         <!-- <view class="salggtm2">已经拥有了一批忠实稳定的客户，以高端商旅人士为主，具有很强的消费能力，我们已经实现区域保护，保障合伙人的权益。</view> -->
        </view>

        <view class="salggtm">
          <view class="salggtm1">丰富的培训技术</view>
        <!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
        </view>
		<view class="salggtm">
		  <view class="salggtm1">丰富的管理经验</view>
		 <!-- <view class="salggtm2">已经拥有了一批忠实稳定的客户，以高端商旅人士为主，具有很强的消费能力，我们已经实现区域保护，保障合伙人的权益。</view> -->
		</view>
		
		<view class="salggtm">
		  <view class="salggtm1">丰富的考核机制</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">丰富的理论基础</view>
		 <!-- <view class="salggtm2">已经拥有了一批忠实稳定的客户，以高端商旅人士为主，具有很强的消费能力，我们已经实现区域保护，保障合伙人的权益。</view> -->
		</view>
		
		<view class="salggtm">
		  <view class="salggtm1">您的门店是不是技术提升不了？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">技师是不是找不见按摩窍门？</view>
		 <!-- <view class="salggtm2">已经拥有了一批忠实稳定的客户，以高端商旅人士为主，具有很强的消费能力，我们已经实现区域保护，保障合伙人的权益。</view> -->
		</view>
		
		<view class="salggtm">
		  <view class="salggtm1">业绩起不来是不是技术问题？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">客户做完按摩后感觉身体疲劳缓解的是不是还不太理想？</view>
		 <!-- <view class="salggtm2">已经拥有了一批忠实稳定的客户，以高端商旅人士为主，具有很强的消费能力，我们已经实现区域保护，保障合伙人的权益。</view> -->
		</view>
		
		<view class="salggtm">
		  <view class="salggtm1">有没有培训体系？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">培训的技术是不是不符合客户需求？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		
		
		<view class="salggtm">
		  <view class="salggtm1">手法上男女技师是不是区分不大？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">技师的理论基础扎实吗？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">技师的穴位能够找得到，按的准吗？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">过多的营销是不是忽略了技术为王这条生存的主线？</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">养生行业随着国内市场近些年的兴起，越来越多的人加入进来创业或从业，国人养生保健的观念越来越强，按摩店铺越开越多，连锁或者单店运营，从业者年轻化趋势明显，对于按摩到底要带给客户什么？很多企业老板还是不太清晰，伴随着移动互联网的发展，越来越多的过度营销使得本就薄利的运营成本更加增加，很多创业者也很苦恼，运营思路不够落地，找不见到底该在哪里突破，那么各位应该思考下上边的灵魂十问，技术这个王道是不是被你忽略了!</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>
		<view class="salggtm">
		  <view class="salggtm1">养生行业随着需求的增长，对于从业者需求缺口也在越来越大，人难招，人员流动性大等方面问题也越来越突出，相关的培训机构也片面走过场，大都单品类的项目，只为流程拿个证书。摩之家从事按摩养生行业十余年，拥有丰富的市场从业经验，在员工培训，交流，人才输送上都有很大的优势。
我们跟实体门店合作，为其输送优秀的按摩师资源，
我们跟学校团体合作，为其解决一部分就业问题，
我们跟连锁企业合作，为其培训丰富的理论与技术实操</view>
		<!--  <view class="salggtm2">提供线上线下市场推广方案支持，形成技师培训，客户服务，区域代理等完善的行业生态模式。</view> -->
		</view>

      </view>
    </view>
	<view class="">
      <view class="fpcontl">
        <view class="fpcontlL">所属城市</view>
        <view class="flex1"></view>
        <view class="fpcontlR">
          <view class="pcGrop">
             <view class="uni-list-cell-db">
                <picker @change="bindPickerChange" :value="index" :range="array" range-key="name">
                    <view class="pcbtnz">
						<input v-model="array[index].name" disabled="true" style="width: 4rem;color: #929292;font-size: 0.9rem;"/>
                      <image src="/static/images/cdBox.png"></image>
                    </view>
                </picker>
            </view>
            <view class="uni-list-cell-db">
                <picker @change="bindPickerChangeCity" :value="index1" :range="array1" range-key="name">
                    <view class="pcbtnz">
                      <!-- <text class="text">{{array1[index1]}}</text> -->
					  <input v-model="array1[index1].name" disabled="true"  style="width: 4rem;color: #929292;font-size: 0.9rem;"/>
                      <image src="/static/images/cdBox.png"></image>
                    </view>
                </picker>
            </view>

          </view>
        </view>
      </view>

]


      <view class="fpcontl">
        <view class="flex1">
          <view class="fpcontlL">您预算多少金额的培训费用？</view>

          <view class="gsixuze">
            <view >
             <radio-group class="radcCont" >
              <label class="dwacle" >
                  <view class="vsirad">
                  </view>
                      <radio   checked @tap="jsonData.money=1000"/>
                  <view class="raswsz">1000元</view>
              </label>
              <label class="dwacle" >
                  <view class="vsirad">
                      <radio    @tap="jsonData.money=5000" />
                  </view>
                  <view class="raswsz">5000元</view>
              </label>
              <label class="dwacle" >
                  <view class="vsirad">
                      <radio    @tap="jsonData.money=-1" />
                  </view>
                  <view class="raswsz">其他</view>
				  <input type="text" v-model="otherMoney" style="border-bottom: #929292 1px solid;width: 3rem;height: 30rpx;"/>
              </label>


            </radio-group>
            </view>
          </view>
        </view>
      </view>
      <view class="fpcontl">
        <view class="flex1">
          <view class="fpcontlL">您的技师团队有多少人？</view>

          <view class="gsixuze">
            <view >
             <radio-group class="radcCont" >

              <label class="dwacle" >
                  <view class="vsirad">
                      <radio   @tap = "teamSizeInfo('10-20人')" />
                  </view>
                  <view class="raswsz">10-20人</view>
              </label>
              <label class="dwacle" >
                  <view class="vsirad">
                      <radio   @tap = "teamSizeInfo('20-50人')" />
                  </view>
                  <view class="raswsz">20-50人</view>
              </label>
            </radio-group>
            </view>
          </view>
        </view>
      </view>

      <view class="fpcontl">
        <view class="flex1">
          <view class="fpcontlL">请准确的填写您能的联系方式</view>

          <view class="contnbf">
            <view class="contnitm">
              <view class="contnitm1">姓名</view>
              <view class="contnitm2"><input type="text" class="input" v-model="jsonData.name" placeholder="请输入您的姓名" name=""></view>
            </view>

            <view class="contnitm">
              <view class="contnitm1">手机号</view>
              <view class="contnitm2"><input type="text" class="input" v-model="jsonData.phone" placeholder="请输入手机号" name=""></view>
            </view>

            <view class="contnitm">
              <view class="contnitm1">邮箱</view>
              <view class="contnitm2"><input type="text" class="input" v-model="jsonData.email" placeholder="请输入您的邮箱" name=""></view>
            </view>
            <view class="contnitm">
              <view class="contnitm1">备注</view>
              <view class="contnitm2"><input type="text" class="input" v-model="jsonData.msg" placeholder="其他说明或问题可提前备注" name=""></view>
            </view>
          </view>
        </view>
      </view>
			<view class="tijiaoyy" @tap="submitInfo">
				提交
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {

				array: [{name:''}],
				array1: [{name:''}],
				index: 0,
				index1: 0,
				index2: 0,
				cur: 0,
				otherMoney:'',
				jsonData:{
					name:'',
					phone:'',
					email:"",
					msg:"",
					area:"",
					city:"",
					money:"1000元",
					personNum:"10-20人",
				}

			}
		},
		onLoad() {
			this.provinceList();
		},
		methods: {
			 bindPickerChange: function(e) {

				this.index = e.target.value;
				this.cityList();
				this.index1 = 0;
			},
			bindPickerChangeCity: function(e) {
				this.index1 = e.target.value;
			},
			teamSizeInfo(e){
				this.jsonData.personNum = e;
				console.log(this.jsonData.personNum);
			},
			async submitInfo(){

					// 手机号
					let phoneRe = /^1(3|4|5|6|7|8|9)\d{9}$/; 
					let numberRe = /^\d+(\.\d+)?$/;
					console.log(this.jsonData.money+"==="+this.otherMoney);
					// 邮箱正则表达式
					let emailRe = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;
					if(this.jsonData.money == -1 && (this.otherMoney == ''|| this.otherMoney == 0)){
						uni.showModal({
						  content: '请您输入保证金',
						  showCancel: false,
						 });
						return;
					}
					if(this.jsonData.name==""){
						
						uni.showModal({
						  content: '请您输入姓名',
						  showCancel: false,
						 });
						return;
					}
					if(this.jsonData.phone==""){
						uni.showModal({
						  content: '请您输入手机号',
						  showCancel: false,
						 });
						return;
					}
					if(this.jsonData.email==""){
						uni.showModal({
						  content: '请您输入邮箱',
						  showCancel: false,
						 });
						return;
					}
					
					if(this.jsonData.money == -1 && (!numberRe.test(this.otherMoney))){
						uni.showModal({
							content:"保证金请您输入数字"
						})
						return;
					}
					if(!phoneRe.test(this.jsonData.phone)){
						uni.showModal({
							content:"请您输入合法的手机号"
						})
						return;
					}
					if(!emailRe.test(this.jsonData.email)){
						uni.showModal({
							content:"请您输入合法的邮箱"
						})
						return;
					}
					this.jsonData.city = this.array[this.index].name;
					this.jsonData.area = this.array1[this.index1].name;
					if(this.jsonData.money==-1){
						this.jsonData.money = this.otherMoney;						
					}

					console.log(JSON.stringify(this.jsonData));	
					let url = this.$baseUrl+"/user/addSchoolInfo";
					const res = await this.$myRequest({
										url: url,
										data:this.jsonData,
										method:"POST"						  	
									});
					if(res.data.success){
						uni.showModal({
						  content: '添加成功',
						  showCancel: false,
						  success: (res) => {
							if (res.confirm) {
								 uni.navigateBack({
								 	delta:-1
								 });
							}
						  }
						}); 
					}else{
						uni.showModal({
						  content: '添加失败',
						  showCancel: false
						});
					}				
			},
			async provinceList(){
						   let params = {
						   	"level":"2",
						   	"pid":""
						   };
						   let url = this.$baseUrl+'/user/findProvinceInfo';
						   const res = await this.$myRequest({
						   					url: url,
						   					data: params,
											method:"POST"
						   				});	
							if(res.data.provinceList!=null){
								this.array = res.data.provinceList;
								
								for(var i = 0;i<this.array.length;i++){
									if(this.array[i].name == '上海市'){
										this.index = i;
									}
								}
							}	
				//根据省份获取城市
				this.cityList();
			},
			async cityList(){
						   let params = {
						   	"level":"3",
						   	"pid":""+this.array[this.index].id
						   };
						   let url = this.$baseUrl+'/user/findProvinceInfo';
						   const res = await this.$myRequest({
						   					url: url,
						   					data: params,
											method:"POST"
						   				});	
							if(res.data.provinceList!=null){
								this.array1 = res.data.provinceList;
							}			
			}
		}
	};
</script>

<style>

</style>
